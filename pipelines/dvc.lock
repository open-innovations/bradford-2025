schema: '2.0'
stages:
  volunteers:
    cmd: papermill --no-log-output volunteers.ipynb output/volunteers.ipynb
    deps:
    - path: ../data/published/volunteers/checkpoints.csv
      hash: md5
      md5: 1f4f88db21ccc2cdc02afda6af0914d8
      size: 19874
    - path: ../data/published/volunteers/shifts.csv
      hash: md5
      md5: c70b7d9a8d21eb7de6eaa764eb50c16e
      size: 38922
    - path: volunteers.ipynb
      hash: md5
      md5: 6becaebc8f5c7e0d74d6c069fa557984
      size: 8459
    outs:
    - path: ../src/themes/volunteers/_data/people/by_demographic_age_range.csv
      hash: md5
      md5: 15b583ccc86c21b87d5b6238cf8fbad4
      size: 196
    - path: ../src/themes/volunteers/_data/people/by_geo_TOTAL.csv
      hash: md5
      md5: f891b9bb80c2b7e5a53c7910edff28ef
      size: 54
    - path: ../src/themes/volunteers/_data/people/by_geo_oslaua.csv
      hash: md5
      md5: 5c9a5e696a43874dd982dddcf5fcc16a
      size: 740
    - path: ../src/themes/volunteers/_data/people/by_geo_osward.csv
      hash: md5
      md5: ae664d0b252c4d4c9f24552a85647e68
      size: 647
    - path: ../src/themes/volunteers/_data/people/by_geo_postcode_area.csv
      hash: md5
      md5: ba8eb7abf60e88d9106a0253be0268c8
      size: 493
    - path: ../src/themes/volunteers/_data/people/checkpoints_weekly.csv
      hash: md5
      md5: 7ce306fd45951b63476b662a171d1e06
      size: 1172
    - path: ../src/themes/volunteers/_data/shifts/attended_by_week.csv
      hash: md5
      md5: 306b5eceb8a9d7f6f3ba923878940ffd
      size: 846
    - path: ../src/themes/volunteers/_data/shifts/attended_cumulative_by_week.csv
      hash: md5
      md5: 0dab5c23be14ffa5f5da72caaf023c81
      size: 1016
    - path: ../src/themes/volunteers/_data/shifts/hours_by_week.csv
      hash: md5
      md5: 5c084098149329d59d18cd9f9421d954
      size: 1206
    - path: ../src/themes/volunteers/_data/shifts/hours_cumulative_by_week.csv
      hash: md5
      md5: fe7e8fa3e359a80a329b6202220f519a
      size: 1492
  ticketing:
    cmd: papermill --no-log-output ticketing.ipynb output/ticketing.ipynb
    deps:
    - path: ../data/published/ticketing/orders.csv
      hash: md5
      md5: 08ad3f9b627730ab9e2c397f8662ed38
      size: 3359
    - path: ../data/published/ticketing/tickets.csv
      hash: md5
      md5: 36657cb0bf7ca1767d4362b0c7a59ca7
      size: 2414788
    - path: ticketing.ipynb
      hash: md5
      md5: 18c8477182108f103e79a84b4f981d02
      size: 13341
    outs:
    - path: ../src/themes/ticketing/_data/operational
      hash: md5
      md5: bd14febeff00cfdaeaece7eab620de37.dir
      size: 9573
      nfiles: 7
  huq:
    cmd: papermill --no-log-output huq.ipynb output/huq.ipynb
    deps:
    - path: ../data/huq/mastercard.csv
      hash: md5
      md5: e9cb60195f153ef69e1336e7bece6b03
      size: 5386
    - path: huq.ipynb
      hash: md5
      md5: eecff663457e8fc6b5b3a2712cc79b4c
      size: 2506
    outs:
    - path: ../src/experiments/huq/_data/footfall_proxy.csv
      hash: md5
      md5: cc25008789841c4877040a29aea98ca0
      size: 512
    - path: ../src/experiments/huq/_data/spend_index.csv
      hash: md5
      md5: 7954811d3b3eb94a1a70fb764dd7fcad
      size: 512
  events@rise:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4801ANHPDLLRCQPPBDBQTRQJMPNKSLKPJ' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids
      '25890' -p project_id 'recf4tPyjoXi81NDo' -p id 'rise'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 40e0bdfc79d80dd90a610b350a1eea88.dir
      size: 2538510
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/rise/_data/event/
      hash: md5
      md5: 5fa40a9ea36ef750cbeddd0ee144260f.dir
      size: 17421
      nfiles: 6
  events@la-haine:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4001APBPRCSHVVMHTCBMSPSJRNDMCHHLV' -p venue_postcode 'BD1 1JT' -p rosterfy_event_ids
      '26307' -p project_id 'None' -p id 'la-haine'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 40e0bdfc79d80dd90a610b350a1eea88.dir
      size: 2538510
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/la-haine/_data/event/
      hash: md5
      md5: 26ddb3a05fcdd54beebda29ab907d739.dir
      size: 6820
      nfiles: 4
  events@les-girafes:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      'recu2QievPdxr1dnH' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids '24438'
      -p project_id 'None' -p id 'les-girafes'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 40e0bdfc79d80dd90a610b350a1eea88.dir
      size: 2538510
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/les-girafes/_data/event/
      hash: md5
      md5: a2c65636be9b573c5b948ac1fee8f8d5.dir
      size: 215
      nfiles: 4
  sustainability:
    cmd: jupyter execute sustainability.ipynb
    deps:
    - path: ../data/published/sustainability/calculations.csv
      hash: md5
      md5: 2c85661c9a5fa298f10c2778fd71ec81
      size: 33149
    - path: sustainability.ipynb
      hash: md5
      md5: 1bd13e187287e96b65faba4969e915bf
      size: 3364
    outs:
    - path: ../src/themes/sustainability/_data/calculations/
      hash: md5
      md5: a4e6f5c3b5a02287949d010c857d5e8e.dir
      size: 160
      nfiles: 2
  events@grue:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '7601AHCJPTHNBCVJHLQNKQVKDRKRMLTPC' -p venue_postcode 'None' -p rosterfy_event_ids
      '26540' -p project_id 'recpLG4BaPUSjpEhJ' -p id 'grue'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 40e0bdfc79d80dd90a610b350a1eea88.dir
      size: 2538510
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/grue/_data/event/
      hash: md5
      md5: ff3e6dccf56b600331f8b9f476bdca8a.dir
      size: 60364
      nfiles: 6
  dashboards@live:
    cmd: papermill --no-log-output dashboard.ipynb - -p target '' -p start '2025-01-01'
      -p end '2025-12-31' -p fixed_date 'false'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 8a07d796d9e6c21d9d3ea1c4e96643ae.dir
      size: 2661919
      nfiles: 9
    - path: dashboard.ipynb
      hash: md5
      md5: e0e5379c4616705738a119eeb8b46617
      size: 8464
    outs:
    - path: ../src/insights/dashboard//_data/events.json
      hash: md5
      md5: d2823ca4561f547f62eea5ad76aa4496
      size: 837
    - path: ../src/insights/dashboard//_data/tickets.json
      hash: md5
      md5: 8fa7a22002c7ebbd1a21b301565255c0
      size: 535
    - path: ../src/insights/dashboard//_data/timestamp.json
      hash: md5
      md5: 32e2048ac31365c4477ddae88a3f8079
      size: 44
    - path: ../src/insights/dashboard//_data/volunteers.json
      hash: md5
      md5: 3b3158c80cf765fceddd94a2adcbae7f
      size: 1513
  dashboards@q1:
    cmd: papermill --no-log-output dashboard.ipynb - -p target 'q1' -p start '2025-01-01'
      -p end '2025-03-31' -p fixed_date 'true'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 8a07d796d9e6c21d9d3ea1c4e96643ae.dir
      size: 2661919
      nfiles: 9
    - path: dashboard.ipynb
      hash: md5
      md5: e0e5379c4616705738a119eeb8b46617
      size: 8464
    outs:
    - path: ../src/insights/dashboard/q1/_data/events.json
      hash: md5
      md5: 2e8c04a876144d17bd0ab2bc2133dd95
      size: 863
    - path: ../src/insights/dashboard/q1/_data/tickets.json
      hash: md5
      md5: 72479752490e3a8455a0e016fc001e77
      size: 937
    - path: ../src/insights/dashboard/q1/_data/timestamp.json
      hash: md5
      md5: 8230919b926b2ab4e00cd8146a404411
      size: 44
    - path: ../src/insights/dashboard/q1/_data/volunteers.json
      hash: md5
      md5: 3b3158c80cf765fceddd94a2adcbae7f
      size: 1513
