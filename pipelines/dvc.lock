schema: '2.0'
stages:
  volunteers:
    cmd: papermill --no-log-output volunteers.ipynb output/volunteers.ipynb
    deps:
    - path: ../data/published/volunteers/checkpoints.csv
      hash: md5
      md5: ef49652f937058da1cc5c54d37f4bfe8
      size: 20473
    - path: ../data/published/volunteers/shifts.csv
      hash: md5
      md5: 80b74af8ffa9ee04b38b1cba4b38188d
      size: 41488
    - path: volunteers.ipynb
      hash: md5
      md5: 6becaebc8f5c7e0d74d6c069fa557984
      size: 8459
    outs:
    - path: ../src/themes/volunteers/_data/people/by_demographic_age_range.csv
      hash: md5
      md5: 65cce4eaa18c1d4a22bbbf2c5e499290
      size: 196
    - path: ../src/themes/volunteers/_data/people/by_geo_TOTAL.csv
      hash: md5
      md5: 92287c022e923262295a1560a39afaae
      size: 54
    - path: ../src/themes/volunteers/_data/people/by_geo_oslaua.csv
      hash: md5
      md5: b812d66ac3ab9eb1918a569a0f450775
      size: 741
    - path: ../src/themes/volunteers/_data/people/by_geo_osward.csv
      hash: md5
      md5: 04fb6323bcb38a9a25dc20490fa6b387
      size: 647
    - path: ../src/themes/volunteers/_data/people/by_geo_postcode_area.csv
      hash: md5
      md5: 3649be6f0a01ff7456de1402882c76a2
      size: 493
    - path: ../src/themes/volunteers/_data/people/checkpoints_weekly.csv
      hash: md5
      md5: a110e5abdf88dab3cbec5e0d4f59a718
      size: 1207
    - path: ../src/themes/volunteers/_data/shifts/attended_by_week.csv
      hash: md5
      md5: 4948167e9f3c22bfb2a2bafdcc2c5642
      size: 871
    - path: ../src/themes/volunteers/_data/shifts/attended_cumulative_by_week.csv
      hash: md5
      md5: 16d3b288e85d1a294361509848203e74
      size: 1047
    - path: ../src/themes/volunteers/_data/shifts/hours_by_week.csv
      hash: md5
      md5: 3baf97d4a2b729b61f993e41f8f63331
      size: 1243
    - path: ../src/themes/volunteers/_data/shifts/hours_cumulative_by_week.csv
      hash: md5
      md5: d912dc1dc464084111d5e12030804b63
      size: 1538
  ticketing:
    cmd: papermill --no-log-output ticketing.ipynb output/ticketing.ipynb
    deps:
    - path: ../data/published/ticketing/orders.csv
      hash: md5
      md5: 5b8bb550f7a0fabad600674dfe1c28c0
      size: 3464
    - path: ../data/published/ticketing/tickets.csv
      hash: md5
      md5: 2d01f0fafc26c7eab2d97ea4af133d01
      size: 2526973
    - path: ticketing.ipynb
      hash: md5
      md5: 18c8477182108f103e79a84b4f981d02
      size: 13341
    outs:
    - path: ../src/themes/ticketing/_data/operational
      hash: md5
      md5: 3e600eb4113b5208d8a59801325b902c.dir
      size: 9735
      nfiles: 7
  huq:
    cmd: papermill --no-log-output huq.ipynb output/huq.ipynb
    deps:
    - path: ../data/huq/mastercard.csv
      hash: md5
      md5: e9cb60195f153ef69e1336e7bece6b03
      size: 5386
    - path: huq.ipynb
      hash: md5
      md5: eecff663457e8fc6b5b3a2712cc79b4c
      size: 2506
    outs:
    - path: ../src/experiments/huq/_data/footfall_proxy.csv
      hash: md5
      md5: cc25008789841c4877040a29aea98ca0
      size: 512
    - path: ../src/experiments/huq/_data/spend_index.csv
      hash: md5
      md5: 7954811d3b3eb94a1a70fb764dd7fcad
      size: 512
  events@rise:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4801ANHPDLLRCQPPBDBQTRQJMPNKSLKPJ' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids
      '25890' -p project_id 'recf4tPyjoXi81NDo' -p id 'rise'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: a892a8209ca51c20a4e006148705a8a6.dir
      size: 2681112
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/rise/_data/event/
      hash: md5
      md5: 5fa40a9ea36ef750cbeddd0ee144260f.dir
      size: 17421
      nfiles: 6
  events@la-haine:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4001APBPRCSHVVMHTCBMSPSJRNDMCHHLV' -p venue_postcode 'BD1 1JT' -p rosterfy_event_ids
      '26307' -p project_id 'None' -p id 'la-haine'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: a892a8209ca51c20a4e006148705a8a6.dir
      size: 2681112
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/la-haine/_data/event/
      hash: md5
      md5: 26ddb3a05fcdd54beebda29ab907d739.dir
      size: 6820
      nfiles: 4
  events@les-girafes:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      'recu2QievPdxr1dnH' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids '24438'
      -p project_id 'None' -p id 'les-girafes'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: a892a8209ca51c20a4e006148705a8a6.dir
      size: 2681112
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/les-girafes/_data/event/
      hash: md5
      md5: a2c65636be9b573c5b948ac1fee8f8d5.dir
      size: 215
      nfiles: 4
  sustainability:
    cmd: jupyter execute sustainability.ipynb
    deps:
    - path: ../data/published/sustainability/calculations.csv
      hash: md5
      md5: dcce6519352ab440465413a85cd311d5
      size: 33593
    - path: sustainability.ipynb
      hash: md5
      md5: 1bd13e187287e96b65faba4969e915bf
      size: 3364
    outs:
    - path: ../src/themes/sustainability/_data/calculations/
      hash: md5
      md5: 251b0382d8b850a0d7a11f12cf599556.dir
      size: 174
      nfiles: 2
  events@grue:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '7601AHCJPTHNBCVJHLQNKQVKDRKRMLTPC' -p venue_postcode 'None' -p rosterfy_event_ids
      '26540' -p project_id 'recpLG4BaPUSjpEhJ' -p id 'grue'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: a892a8209ca51c20a4e006148705a8a6.dir
      size: 2681112
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d607da4680498cd8b5bd0876c1e68b12
      size: 3074
    outs:
    - path: ../src/events/grue/_data/event/
      hash: md5
      md5: ff3e6dccf56b600331f8b9f476bdca8a.dir
      size: 60364
      nfiles: 6
  dashboards@live:
    cmd: papermill --no-log-output dashboard.ipynb - -p target '' -p start '2025-01-01'
      -p end '2025-12-31' -p fixed_date 'false'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 6be73293d0625f164c373e4dd8ae4e4e.dir
      size: 3386281
      nfiles: 10
    - path: dashboard.ipynb
      hash: md5
      md5: d14bf2c789e95a2cbde05676b5fe0603
      size: 15147
    outs:
    - path: ../src/insights/dashboard//_data/events.json
      hash: md5
      md5: dbc458f8fa3e4001c026b8b15a6ab299
      size: 2982
    - path: ../src/insights/dashboard//_data/tickets.json
      hash: md5
      md5: 9fbdc05763736f3e36eb3de03cb93d9d
      size: 1073
    - path: ../src/insights/dashboard//_data/timestamp.json
      hash: md5
      md5: 4adaa0a71a4cf22aff81d282d8ba9b48
      size: 44
    - path: ../src/insights/dashboard//_data/volunteers.json
      hash: md5
      md5: 2dfcd88ca93cbde665fc6c4145deca00
      size: 1633
  dashboards@q1:
    cmd: papermill --no-log-output dashboard.ipynb - -p target 'q1' -p start '2025-01-01'
      -p end '2025-03-31' -p fixed_date 'true'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 6be73293d0625f164c373e4dd8ae4e4e.dir
      size: 3386281
      nfiles: 10
    - path: dashboard.ipynb
      hash: md5
      md5: d14bf2c789e95a2cbde05676b5fe0603
      size: 15147
    outs:
    - path: ../src/insights/dashboard/q1/_data/events.json
      hash: md5
      md5: dc06f196c99b7f7fdf2db36ac7791da4
      size: 2863
    - path: ../src/insights/dashboard/q1/_data/tickets.json
      hash: md5
      md5: 556c69d58ea13267c0eb17e6f933d0db
      size: 937
    - path: ../src/insights/dashboard/q1/_data/timestamp.json
      hash: md5
      md5: 8230919b926b2ab4e00cd8146a404411
      size: 44
    - path: ../src/insights/dashboard/q1/_data/volunteers.json
      hash: md5
      md5: c0a4c0724935265a0dc66d41faa7e322
      size: 1614
