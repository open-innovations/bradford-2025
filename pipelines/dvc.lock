schema: '2.0'
stages:
  volunteers:
    cmd: papermill --no-log-output volunteers.ipynb output/volunteers.ipynb
    deps:
    - path: ../data/published/volunteers/checkpoints.csv
      hash: md5
      md5: 35cb0faa3808e3a73dcac56c1cbad188
      size: 23227
    - path: ../data/published/volunteers/shifts.csv
      hash: md5
      md5: 0e98aadd137ed1d15b57f95c2c502f48
      size: 55216
    - path: volunteers.ipynb
      hash: md5
      md5: 70c6b4d3c65e95310526a87f22902bfa
      size: 11464
    outs:
    - path: ../src/themes/volunteers/_data/people/by_demographic_age_range.csv
      hash: md5
      md5: 875f508eec7b05109a827c1dd36b0c55
      size: 196
    - path: ../src/themes/volunteers/_data/people/by_geo_TOTAL.csv
      hash: md5
      md5: f33eb5028ffdcc78330cb9baedbddb96
      size: 54
    - path: ../src/themes/volunteers/_data/people/by_geo_oslaua.csv
      hash: md5
      md5: 3999c66cdd36cbfc941d669e6e5ec1ab
      size: 1313
    - path: ../src/themes/volunteers/_data/people/by_geo_osward.csv
      hash: md5
      md5: 99d1ca8d7e744d973498d1bc6423ad43
      size: 648
    - path: ../src/themes/volunteers/_data/people/by_geo_postcode_area.csv
      hash: md5
      md5: f72fc0019603f91bb68edb154f85fdad
      size: 493
    - path: ../src/themes/volunteers/_data/people/checkpoints_weekly.csv
      hash: md5
      md5: 86b181a561970dbdf9131f93e96c36d0
      size: 1347
    - path: ../src/themes/volunteers/_data/shifts/attended_by_week.csv
      hash: md5
      md5: abde207ae4243fdb5c5e50974927569d
      size: 972
    - path: ../src/themes/volunteers/_data/shifts/attended_cumulative_by_week.csv
      hash: md5
      md5: c1853486157c64f30acdb73448550cde
      size: 1171
    - path: ../src/themes/volunteers/_data/shifts/hours_by_week.csv
      hash: md5
      md5: 7b84fb1c6500af59fdd5dd84a2c83b21
      size: 1401
    - path: ../src/themes/volunteers/_data/shifts/hours_cumulative_by_week.csv
      hash: md5
      md5: 76f611d95e424856258be9cf7b744aea
      size: 1694
    - path: ../src/themes/volunteers/_data/summary.json
      hash: md5
      md5: 865a91cbf397eb3d55aca56deb3bc4fa
      size: 488
  ticketing:
    cmd: papermill --no-log-output ticketing.ipynb output/ticketing.ipynb
    deps:
    - path: ../data/published/ticketing/orders.csv
      hash: md5
      md5: e327b4cb150ee4d9f90b4cde76f4f0ec
      size: 3963
    - path: ../data/published/ticketing/tickets.csv
      hash: md5
      md5: 073f45b3ed1c2027bf8cf5d9f32282b2
      size: 3256080
    - path: ticketing.ipynb
      hash: md5
      md5: 18c8477182108f103e79a84b4f981d02
      size: 13341
    outs:
    - path: ../src/themes/ticketing/_data/operational
      hash: md5
      md5: bf0488ff92bba5727fa38bf3c62c71ff.dir
      size: 10518
      nfiles: 7
  huq:
    cmd: papermill --no-log-output huq.ipynb output/huq.ipynb
    deps:
    - path: ../data/huq/mastercard.csv
      hash: md5
      md5: 3353b26bfb7477f416094651a1430b93
      size: 10747
    - path: huq.ipynb
      hash: md5
      md5: eecff663457e8fc6b5b3a2712cc79b4c
      size: 2506
    outs:
    - path: ../src/experiments/huq/_data/footfall_proxy.csv
      hash: md5
      md5: 897df6583ce34c190494dd084f4c6117
      size: 1008
    - path: ../src/experiments/huq/_data/spend_index.csv
      hash: md5
      md5: ab19af12c8da80b808fca4aa81d6bd9b
      size: 1006
  events@rise:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4801ANHPDLLRCQPPBDBQTRQJMPNKSLKPJ' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids
      '25890' -p project_ids 'recf4tPyjoXi81NDo' -p venue_ids '' -p id 'rise'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/rise/_data/event/
      hash: md5
      md5: a27af9b27e5637858aaf1898d917fd13.dir
      size: 17867
      nfiles: 7
  events@la-haine:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4001APBPRCSHVVMHTCBMSPSJRNDMCHHLV' -p venue_postcode 'BD1 1JT' -p rosterfy_event_ids
      '26307' -p project_ids 'recYvLfpThEXGXcmn' -p venue_ids '' -p id 'la-haine'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/la-haine/_data/event/
      hash: md5
      md5: 8ba2d93fca5ca5fa518243978b34b4af.dir
      size: 7182
      nfiles: 7
  events@les-girafes:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      'recu2QievPdxr1dnH' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids '24438'
      -p project_ids 'recu2QievPdxr1dnH' -p venue_ids '' -p id 'les-girafes'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/les-girafes/_data/event/
      hash: md5
      md5: 852027690353833afc012e0288c8046e.dir
      size: 919
      nfiles: 7
  sustainability:
    cmd: jupyter execute sustainability.ipynb
    deps:
    - path: ../data/published/sustainability/calculations.csv
      hash: md5
      md5: ea0763f66c32f280fe70c46a1087015f
      size: 42908
    - path: sustainability.ipynb
      hash: md5
      md5: 1bd13e187287e96b65faba4969e915bf
      size: 3364
    outs:
    - path: ../src/themes/sustainability/_data/calculations/
      hash: md5
      md5: 974018f87592cf54235fe26de63c99d8.dir
      size: 175
      nfiles: 2
  events@grue:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '7601AHCJPTHNBCVJHLQNKQVKDRKRMLTPC' -p venue_postcode 'None' -p rosterfy_event_ids
      '26540' -p project_ids 'recoJF8kMXHloBbjt' -p venue_ids '' -p id 'grue'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/grue/_data/event/
      hash: md5
      md5: 42be217b2194a157267d2084ebfc3472.dir
      size: 60758
      nfiles: 7
  dashboards@live:
    cmd: papermill --no-log-output dashboard.ipynb - -p target '' -p start '2025-01-01'
      -p end '2025-12-31' -p fixed_date 'false'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 634fe5a068c4d1c653b17a46d6b177c6.dir
      size: 4367223
      nfiles: 16
    - path: dashboard.ipynb
      hash: md5
      md5: 0e861d0eee14b29914d6664738a0cdaf
      size: 14443
    outs:
    - path: ../src/insights/dashboard//_data/audience.json
      hash: md5
      md5: bf469aa9ca574e0ba48e682df5c4f760
      size: 325
    - path: ../src/insights/dashboard//_data/events.json
      hash: md5
      md5: ccc3dd962d6a4faf1d1ee08584a06361
      size: 7768
    - path: ../src/insights/dashboard//_data/participants.json
      hash: md5
      md5: 268d925d9cdf0262b5de389a7e78cec0
      size: 3312
    - path: ../src/insights/dashboard//_data/timestamp.json
      hash: md5
      md5: 0308b070e9032e8d54f80a6b898a90b9
      size: 69
  dashboards@q1:
    cmd: papermill --no-log-output dashboard.ipynb - -p target 'q1' -p start '2025-01-01'
      -p end '2025-03-31' -p fixed_date 'true'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 634fe5a068c4d1c653b17a46d6b177c6.dir
      size: 4367223
      nfiles: 16
    - path: dashboard.ipynb
      hash: md5
      md5: 0e861d0eee14b29914d6664738a0cdaf
      size: 14443
    outs:
    - path: ../src/insights/dashboard/q1/_data/audience.json
      hash: md5
      md5: d13049ce826f39a563ac00d37f1c262e
      size: 325
    - path: ../src/insights/dashboard/q1/_data/events.json
      hash: md5
      md5: d9149369192e1777bb138fb6c4b7f29e
      size: 5868
    - path: ../src/insights/dashboard/q1/_data/participants.json
      hash: md5
      md5: 78b1fb6ce7deb87ef28f622ab0490c48
      size: 2647
    - path: ../src/insights/dashboard/q1/_data/timestamp.json
      hash: md5
      md5: 63961fffda7c7de7873c7ed59c9cfe9a
      size: 69
  events@dracula:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '9001AGHDBMPJDRPSRMKLRCJGBJJMTQGDH' -p venue_postcode 'None' -p rosterfy_event_ids
      'None' -p project_ids 'recjdRJvjmX67plPM' -p venue_ids '' -p id 'dracula'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/dracula/_data/event/
      hash: md5
      md5: 6cf7ef581387b814ff5c49d9e9fe2f21.dir
      size: 11649
      nfiles: 6
  dashboards@q2:
    cmd: papermill --no-log-output dashboard.ipynb - -p target 'q2' -p start '2025-04-01'
      -p end '2025-06-30' -p fixed_date 'true'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 634fe5a068c4d1c653b17a46d6b177c6.dir
      size: 4367223
      nfiles: 16
    - path: dashboard.ipynb
      hash: md5
      md5: 0e861d0eee14b29914d6664738a0cdaf
      size: 14443
    outs:
    - path: ../src/insights/dashboard/q2/_data/audience.json
      hash: md5
      md5: 60d90eaac87f22c328de265890d62bdc
      size: 259
    - path: ../src/insights/dashboard/q2/_data/events.json
      hash: md5
      md5: 3a0cb5fe4c848736ee1548f2d211af4b
      size: 5547
    - path: ../src/insights/dashboard/q2/_data/participants.json
      hash: md5
      md5: 812378660ea835dee0e9b8213b137bcb
      size: 1469
    - path: ../src/insights/dashboard/q2/_data/timestamp.json
      hash: md5
      md5: 89b2708e9431af164e9a9ea065581ce1
      size: 69
  dashboards@all:
    cmd: papermill --no-log-output dashboard.ipynb - -p target 'all' -p start '2024-01-01'
      -p end '2025-12-31' -p fixed_date 'false'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 634fe5a068c4d1c653b17a46d6b177c6.dir
      size: 4367223
      nfiles: 16
    - path: dashboard.ipynb
      hash: md5
      md5: 0e861d0eee14b29914d6664738a0cdaf
      size: 14443
    outs:
    - path: ../src/insights/dashboard/all/_data/audience.json
      hash: md5
      md5: e0ca9a2edf342d7b53dace5f8267e461
      size: 325
    - path: ../src/insights/dashboard/all/_data/events.json
      hash: md5
      md5: 519adcca2274a0c61e09a0581c875617
      size: 8670
    - path: ../src/insights/dashboard/all/_data/participants.json
      hash: md5
      md5: 795083792b585bea05fa4738363427c7
      size: 3723
    - path: ../src/insights/dashboard/all/_data/timestamp.json
      hash: md5
      md5: 0a4805bf6421cca325c4c2d6f8b28fdf
      size: 69
  programme:
    cmd: jupyter execute programme.ipynb
    deps:
    - path: ../data/published/programme/events.csv
      hash: md5
      md5: 92782a4b06c15616a96247a3c5abf7ba
      size: 434843
    - path: programme.ipynb
      hash: md5
      md5: 3c820a6d604deb85db561fb00072d668
      size: 10037
    outs:
    - path: ../src/themes/programme/_data/events/
      hash: md5
      md5: cd46eaa1a191864ea8b6d2b1f7e7de47.dir
      size: 37637
      nfiles: 6
  events@loading-bay:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '' -p venue_postcode 'None' -p rosterfy_event_ids '' -p project_ids '' -p venue_ids
      'rec4maUwKspPcDxNl recFYiOZvNnYDgbfk recInFDrcQ4KutUcL recIrQ1v64zKajXU1' -p
      id 'loading-bay'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/loading-bay/_data/event/
      hash: md5
      md5: 28a70e7a67b1fc3500f6fc418c00686b.dir
      size: 273
      nfiles: 1
  events@beacon:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '' -p venue_postcode 'None' -p rosterfy_event_ids '' -p project_ids '' -p venue_ids
      'rec7tn1K6r85N72yc recW1DV5uXWsrUShy recea0GEE29eKCtxu recx817GdO7wmJDf6' -p
      id 'beacon'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: 3c33650311c1cdd2a2ad6c6732fa2e98.dir
      size: 3431351
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: f7bd8ae3cb9d18e32937c7e06ba7dc42
      size: 3591
    outs:
    - path: ../src/events/beacon/_data/event/
      hash: md5
      md5: 2a9b2831b6cb71228cefa404b7eee12b.dir
      size: 274
      nfiles: 1
