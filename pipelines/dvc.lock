schema: '2.0'
stages:
  volunteers:
    cmd: papermill --no-log-output volunteers.ipynb output/volunteers.ipynb
    deps:
    - path: ../data/published/volunteers/checkpoints.csv
      hash: md5
      md5: 660f8b7ed7aceb97efefed056fd5f1a3
      size: 20552
    - path: ../data/published/volunteers/shifts.csv
      hash: md5
      md5: 22b6623a490ca3711c80250f7debdd4e
      size: 41873
    - path: volunteers.ipynb
      hash: md5
      md5: 376b1d7729326301268339cc1f7558f2
      size: 8802
      isexec: true
    outs:
    - path: ../src/themes/volunteers/_data/people/by_demographic_age_range.csv
      hash: md5
      md5: b069835f33deea3135fffc844d96f64f
      size: 196
    - path: ../src/themes/volunteers/_data/people/by_geo_TOTAL.csv
      hash: md5
      md5: 8a125071b7bc9383da2cd0862649a30a
      size: 54
    - path: ../src/themes/volunteers/_data/people/by_geo_oslaua.csv
      hash: md5
      md5: 1ffe0646123f58e30a727d638788f0e1
      size: 741
    - path: ../src/themes/volunteers/_data/people/by_geo_osward.csv
      hash: md5
      md5: ee1b5e199f207ae1d55146aba9b1dd60
      size: 647
    - path: ../src/themes/volunteers/_data/people/by_geo_postcode_area.csv
      hash: md5
      md5: f1a049108b9c3c3add47386633a4e166
      size: 493
    - path: ../src/themes/volunteers/_data/people/checkpoints_weekly.csv
      hash: md5
      md5: 12bad199b7e7295ecd9c811949b9e570
      size: 1207
    - path: ../src/themes/volunteers/_data/shifts/attended_by_week.csv
      hash: md5
      md5: 0952075904bc60a6a786ec1fd772ba9b
      size: 871
    - path: ../src/themes/volunteers/_data/shifts/attended_cumulative_by_week.csv
      hash: md5
      md5: 5161b0fd0690dd18fb945c1a1f3e01ba
      size: 1047
    - path: ../src/themes/volunteers/_data/shifts/hours_by_week.csv
      hash: md5
      md5: f3fd33904a5c7cb55c89e8bea8a62051
      size: 1243
    - path: ../src/themes/volunteers/_data/shifts/hours_cumulative_by_week.csv
      hash: md5
      md5: c05d114a72de322fa6be8ce5480e4a54
      size: 1504
  ticketing:
    cmd: papermill --no-log-output ticketing.ipynb output/ticketing.ipynb
    deps:
    - path: ../data/published/ticketing/orders.csv
      hash: md5
      md5: 5b96710974594f70b7f04b20b75ec898
      size: 3480
    - path: ../data/published/ticketing/tickets.csv
      hash: md5
      md5: 63ae79d823b62a828ca95fb78c8a2046
      size: 2552650
    - path: ticketing.ipynb
      hash: md5
      md5: e7ed4a58399e9f00f3093b9ed7b458de
      size: 13837
      isexec: true
    outs:
    - path: ../src/themes/ticketing/_data/operational
      hash: md5
      md5: a3a003e077da786784e7e845acb84625.dir
      size: 9735
      nfiles: 7
  huq:
    cmd: papermill --no-log-output huq.ipynb output/huq.ipynb
    deps:
    - path: ../data/huq/mastercard.csv
      hash: md5
      md5: e9cb60195f153ef69e1336e7bece6b03
      size: 5386
      isexec: true
    - path: huq.ipynb
      hash: md5
      md5: 8ae6e22602a9cbc1f51b073f852e9ae2
      size: 2632
      isexec: true
    outs:
    - path: ../src/experiments/huq/_data/footfall_proxy.csv
      hash: md5
      md5: cc25008789841c4877040a29aea98ca0
      size: 512
    - path: ../src/experiments/huq/_data/spend_index.csv
      hash: md5
      md5: 7954811d3b3eb94a1a70fb764dd7fcad
      size: 512
  events@rise:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4801ANHPDLLRCQPPBDBQTRQJMPNKSLKPJ' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids
      '25890' -p project_id 'recf4tPyjoXi81NDo' -p id 'rise'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: b309548e21977806e44ed04d15f722a3.dir
      size: 2711155
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d3e02ef5e662da76a4b8d55a50cf4ade
      size: 3193
      isexec: true
    outs:
    - path: ../src/events/rise/_data/event/
      hash: md5
      md5: 5fa40a9ea36ef750cbeddd0ee144260f.dir
      size: 17421
      nfiles: 6
  events@la-haine:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '4001APBPRCSHVVMHTCBMSPSJRNDMCHHLV' -p venue_postcode 'BD1 1JT' -p rosterfy_event_ids
      '26307' -p project_id 'None' -p id 'la-haine'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: b309548e21977806e44ed04d15f722a3.dir
      size: 2711155
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d3e02ef5e662da76a4b8d55a50cf4ade
      size: 3193
      isexec: true
    outs:
    - path: ../src/events/la-haine/_data/event/
      hash: md5
      md5: 26ddb3a05fcdd54beebda29ab907d739.dir
      size: 6820
      nfiles: 4
  events@les-girafes:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      'recu2QievPdxr1dnH' -p venue_postcode 'BD1 1LA' -p rosterfy_event_ids '24438'
      -p project_id 'None' -p id 'les-girafes'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: b309548e21977806e44ed04d15f722a3.dir
      size: 2711155
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d3e02ef5e662da76a4b8d55a50cf4ade
      size: 3193
      isexec: true
    outs:
    - path: ../src/events/les-girafes/_data/event/
      hash: md5
      md5: a2c65636be9b573c5b948ac1fee8f8d5.dir
      size: 215
      nfiles: 4
  sustainability:
    cmd: jupyter execute sustainability.ipynb
    deps:
    - path: ../data/published/sustainability/calculations.csv
      hash: md5
      md5: dcce6519352ab440465413a85cd311d5
      size: 33593
      isexec: true
    - path: sustainability.ipynb
      hash: md5
      md5: 733e47beb5d215d3d29816654ac13ece
      size: 3518
      isexec: true
    outs:
    - path: ../src/themes/sustainability/_data/calculations/
      hash: md5
      md5: 251b0382d8b850a0d7a11f12cf599556.dir
      size: 174
      nfiles: 2
  events@grue:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '7601AHCJPTHNBCVJHLQNKQVKDRKRMLTPC' -p venue_postcode 'None' -p rosterfy_event_ids
      '26540' -p project_id 'recpLG4BaPUSjpEhJ' -p id 'grue'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: b309548e21977806e44ed04d15f722a3.dir
      size: 2711155
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d3e02ef5e662da76a4b8d55a50cf4ade
      size: 3193
      isexec: true
    outs:
    - path: ../src/events/grue/_data/event/
      hash: md5
      md5: ff3e6dccf56b600331f8b9f476bdca8a.dir
      size: 60364
      nfiles: 6
  dashboards@live:
    cmd: papermill --no-log-output dashboard.ipynb - -p target '' -p start '2025-01-01'
      -p end '2025-12-31' -p fixed_date 'false'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 6646ed183b50139d077bfe4c5df81e05.dir
      size: 3416788
      nfiles: 10
    - path: dashboard.ipynb
      hash: md5
      md5: 9aa646d4415a9cfe4ce7c076fb1ba2b4
      size: 15192
    outs:
    - path: ../src/insights/dashboard//_data/events.json
      hash: md5
      md5: 5bbdd3455ee274cbe1de23424b9d7b78
      size: 3157
    - path: ../src/insights/dashboard//_data/tickets.json
      hash: md5
      md5: fdef250879b12b97d401697590fab55b
      size: 1366
    - path: ../src/insights/dashboard//_data/timestamp.json
      hash: md5
      md5: c52221a7137a321a23c0e8bbb22bbd0e
      size: 69
    - path: ../src/insights/dashboard//_data/volunteers.json
      hash: md5
      md5: e84eb82594589655a2777300181bb434
      size: 1633
  dashboards@q1:
    cmd: papermill --no-log-output dashboard.ipynb - -p target 'q1' -p start '2025-01-01'
      -p end '2025-03-31' -p fixed_date 'true'
    deps:
    - path: ../data/published/
      hash: md5
      md5: 6646ed183b50139d077bfe4c5df81e05.dir
      size: 3416788
      nfiles: 10
    - path: dashboard.ipynb
      hash: md5
      md5: 9aa646d4415a9cfe4ce7c076fb1ba2b4
      size: 15192
    outs:
    - path: ../src/insights/dashboard/q1/_data/events.json
      hash: md5
      md5: dc06f196c99b7f7fdf2db36ac7791da4
      size: 2863
    - path: ../src/insights/dashboard/q1/_data/tickets.json
      hash: md5
      md5: 556c69d58ea13267c0eb17e6f933d0db
      size: 937
    - path: ../src/insights/dashboard/q1/_data/timestamp.json
      hash: md5
      md5: 7895dc1a411839a696239246441d8897
      size: 69
    - path: ../src/insights/dashboard/q1/_data/volunteers.json
      hash: md5
      md5: c0a4c0724935265a0dc66d41faa7e322
      size: 1614
  events@dracula:
    cmd: papermill --no-log-output events.ipynb output/events.ipynb -p spektrix_event_ids
      '9001AGHDBMPJDRPSRMKLRCJGBJJMTQGDH' -p venue_postcode 'None' -p rosterfy_event_ids
      'None' -p project_id 'None' -p id 'dracula'
    deps:
    - path: ../data/published/ticketing/
      hash: md5
      md5: b309548e21977806e44ed04d15f722a3.dir
      size: 2711155
      nfiles: 3
    - path: events.ipynb
      hash: md5
      md5: d3e02ef5e662da76a4b8d55a50cf4ade
      size: 3193
      isexec: true
    outs:
    - path: ../src/events/dracula/_data/event/
      hash: md5
      md5: 9a1ba9a4991d61dc08d6063c14f0b19d.dir
      size: 11244
      nfiles: 3
